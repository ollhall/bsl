(()=>{"use strict";!function(){const t=document.querySelector(".icon-menu");if(t){const e=document.querySelector(".menu");t.addEventListener("click",(function(n){document.body.classList.toggle("_lock"),t.classList.toggle("menu-open"),e.classList.toggle("menu-open")}))}}(),function(){let t=window.scrollY;const e=document.querySelector("header");window.addEventListener("scroll",(function(){t=window.scrollY,t>=1?e.classList.add("_header-scroll"):e.classList.remove("_header-scroll")}))}(),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const t=document.querySelectorAll('a[href*="#"]');for(let e of t)e.addEventListener("click",(function(t){t.preventDefault();const n=e.getAttribute("href").substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}))}(),function(){const t=document.querySelectorAll("[data-spollers]");if(t.length>0){const o=Array.from(t).filter((function(t,e,n){return!t.dataset.spollers.split(",")[0]}));o.length>0&&r(o);const s=Array.from(t).filter((function(t,e,n){return t.dataset.spollers.split(",")[0]}));if(s.length>0){const t=[];s.forEach((e=>{const n={},o=e.dataset.spollers.split(",");n.value=o[0],n.type=o[1]?o[1].trim():"max",n.item=e,t.push(n)}));let e=t.map((function(t){return"("+t.type+"-width: "+t.value+"px),"+t.value+","+t.type}));e=e.filter((function(t,e,n){return n.indexOf(t)===e})),e.forEach((e=>{const n=e.split(","),o=n[1],s=n[2],i=window.matchMedia(n[0]),l=t.filter((function(t){if(t.value===o&&t.type===s)return!0}));i.addListener((function(){r(l,i)})),r(l,i)}))}function r(t,e=!1){t.forEach((t=>{t=e?t.item:t,e.matches||!e?(t.classList.add("_init"),i(t),t.addEventListener("click",l)):(t.classList.remove("_init"),i(t,!1),t.removeEventListener("click",l))}))}function i(t,e=!0){const n=t.querySelectorAll("[data-spoller]");n.length>0&&n.forEach((t=>{e?(t.removeAttribute("tabindex"),t.classList.contains("_spoller-active")||(t.nextElementSibling.hidden=!0)):(t.setAttribute("tabindex","-1"),t.nextElementSibling.hidden=!1)}))}function l(t){const e=t.target;if(e.hasAttribute("data-spoller")||e.closest("[data-spoller]")){const o=e.hasAttribute("data-spoller")?e:e.closest("[data-spoller]"),s=o.closest("[data-spoller]"),r=!!s.hasAttribute("data-one-spoller");s.querySelectorAll("._slide").length||(r&&!o.classList.contains("_spoller-active")&&a(s),o.classList.toggle("_spoller-active"),n(o.nextElementSibling,500)),t.preventDefault()}}function a(t){const n=t.querySelector("[data-spoller]._spoller-active");n&&(n.classList.remove("_spoller-active"),e(n.nextElementSibling,500))}}let e=(t,e=500)=>{t.classList.contains("_slide")||(t.classList.add("_slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.hidden=!0,t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")}),e))},n=(t,n=500)=>t.hidden?((t,e=500)=>{if(!t.classList.contains("_slide")){t.classList.add("_slide"),t.hidden&&(t.hidden=!1);let n=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=n+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")}),e)}})(t,n):e(t,n);const o=document.querySelectorAll(".btn-hidden > span");for(let t=0;t<o.length;t++)o[t].addEventListener("click",(function(){this.innerHTML="Посмотреть ответ"===this.innerHTML?this.innerHTML="Скрыть ответ":this.innerHTML="Посмотреть ответ"}))}(),function(){const t=document.querySelectorAll(".popup-link"),e=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let o=!0;if(t.length>0)for(let e=0;e<t.length;e++){const n=t[e];n.addEventListener("click",(function(t){const e=n.getAttribute("href").replace("#","");r(document.getElementById(e)),t.preventDefault()}))}const s=document.querySelectorAll(".close-popup");if(s.length>0)for(let t=0;t<s.length;t++){const e=s[t];e.addEventListener("click",(function(t){i(e.closest(".popup")),t.preventDefault()}))}function r(t){if(t&&o){const s=document.querySelector(".popup.open");s?i(s,!1):function(){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight=t;e.style.paddingRight=t,e.classList.add("_lock"),o=!1,setTimeout((function(){o=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||i(t.target.closest(".popup"))}))}}function i(t,s=!0){o&&(t.classList.remove("open"),s&&(setTimeout((function(){if(n.length>0)for(let t=0;t<n.length;t++)n[t].style.paddingRight="0px";e.style.paddingRight="0px",e.classList.remove("_lock")}),800),o=!1,setTimeout((function(){o=!0}),800)))}document.addEventListener("keydown",(function(t){27===t.which&&i(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)}(),document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".tabs"),e=document.querySelectorAll(".tabs__btn"),n=document.querySelectorAll(".tabs__content");t&&t.addEventListener("click",(t=>{if(t.target.classList.contains("tabs__btn")){const n=t.target.dataset.tabsPath;e.forEach((t=>{t.classList.remove("tabs__btn--active")})),document.querySelector(`[data-tabs-path="${n}"]`).classList.add("tabs__btn--active"),o(n)}if(t.target.classList.contains("tabs__arrow--prev")){let t=document.querySelector(".tabs__btn--active").closest(".tabs__item").previousElementSibling;if(t){let n=t.querySelector(".tabs__btn");e.forEach((t=>{t.classList.remove("tabs__btn--active")})),n.classList.add("tabs__btn--active");let s=n.dataset.tabsPath;o(s)}}if(t.target.classList.contains("tabs__arrow--next")){let t=document.querySelector(".tabs__btn--active").closest(".tabs__item").nextElementSibling;if(t){let n=t.querySelector(".tabs__btn");e.forEach((t=>{t.classList.remove("tabs__btn--active")})),n.classList.add("tabs__btn--active");let s=n.dataset.tabsPath;o(s)}}}));const o=t=>{n.forEach((t=>{t.classList.remove("tabs__content--active")})),document.querySelector(`[data-tabs-target="${t}"]`).classList.add("tabs__content--active")}})),document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("form");function e(t){t.parentElement.classList.add("_error"),t.classList.add("_error")}function n(t){t.parentElement.classList.remove("_error"),t.classList.remove("_error")}function o(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}t.addEventListener("submit",(async function(s){if(s.preventDefault(),0===function(t){let s=0,r=document.querySelectorAll("._req");for(let t=0;t<r.length;t++){const i=r[t];n(i),i.classList.contains("_email")?o(i)&&(e(i),s++):("checkbox"===i.getAttribute("type")&&!1===i.checked||""===i.value)&&(e(i),s++)}return s}()){t.classList.add("_sending");let e=await fetch("sendmail.php",{method:"POST",body:formData});if(e.ok){let n=await e.json();alert(n.message),formPreview.innerHTML="",t.reset(),t.classList.remove("_sending")}else alert("Ошибка"),t.classList.remove("_sending")}else alert("Fill in required fields")}))})),window.addEventListener("load",(function(){let t=new IntersectionObserver(((t,e)=>{t.forEach((t=>{if(t.isIntersecting){const n=t.target,o=n.querySelectorAll("[data-digits-counter]");o.length&&function(t){let e=t||document.querySelectorAll("[data-digits-counter]");e&&e.forEach((t=>{!function(t){let e=null;const n=parseInt(t.dataset.digitsCounter)?parseInt(t.dataset.digitsCounter):2e3,o=parseInt(t.innerHTML),s=r=>{e||(e=r);const i=Math.min((r-e)/n,1);t.innerHTML=Math.floor(i*(0+o)),i<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(t)}))}(o),e.unobserve(n)}}))}),{threshold:.3}),e=document.querySelectorAll(".page__coverage");e.length&&e.forEach((e=>{t.observe(e)}))}))})();